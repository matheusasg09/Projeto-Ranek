(function(t){function e(e){for(var r,i,s=e[0],u=e[1],c=e[2],d=0,p=[];d<s.length;d++)i=s[d],a[i]&&p.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);l&&l(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),o()}function o(){for(var t,e=0;e<n.length;e++){for(var o=n[e],r=!0,s=1;s<o.length;s++){var u=o[s];0!==a[u]&&(r=!1)}r&&(n.splice(e--,1),t=i(i.s=o[0]))}return t}var r={},a={app:0},n=[];function i(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=r,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(o,r,function(e){return t[e]}.bind(null,r));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var l=u;n.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"02d9":function(t,e,o){},"034f":function(t,e,o){"use strict";var r=o("64a9"),a=o.n(r);a.a},"07e6":function(t,e,o){},"154a":function(t,e,o){"use strict";var r=o("8c0d"),a=o.n(r);a.a},"1ea6":function(t,e,o){"use strict";var r=o("b89a"),a=o.n(r);a.a},2540:function(t,e,o){},2551:function(t,e,o){},"26b9":function(t,e,o){"use strict";var r=o("2c6e"),a=o.n(r);a.a},"2c6e":function(t,e,o){},"31f2":function(t,e,o){},"3d68":function(t,e,o){"use strict";var r=o("5b22"),a=o.n(r);a.a},4079:function(t,e,o){},4545:function(t,e,o){},4680:function(t,e,o){},"54e0":function(t,e,o){"use strict";var r=o("9f5c"),a=o.n(r);a.a},"56d7":function(t,e,o){"use strict";o.r(e);o("c5f6"),o("cadf"),o("551c"),o("f751"),o("097d");var r=o("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("TheHeader"),o("main",{attrs:{id:"main"}},[o("transition",{attrs:{mode:"out-in"}},[o("router-view")],1)],1),o("TheFooter")],1)},n=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",[r("nav",[r("router-link",{staticClass:"logo",attrs:{to:"/"}},[r("img",{attrs:{src:o("b9aa"),alt:"Ranek"}})]),t.$store.state.login?r("router-link",{staticClass:"btn",attrs:{to:"/usuario"}},[t._v(t._s(t.nome))]):r("router-link",{staticClass:"btn",attrs:{to:"/login"}},[t._v("Vender / Login")])],1)])},s=[],u=(o("a481"),{name:"TheHeader",computed:{nome:function(){return this.$store.state.usuario.nome.replace(/ .*/,"")}}}),c=u,l=(o("bce3"),o("2877")),d=Object(l["a"])(c,i,s,!1,null,"fe37ce5a",null),p=d.exports,m=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},f=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("footer",[o("p",[t._v("Ranek. Alguns direitos reservados.")])])}],v={name:"TheFooter"},h=v,g=(o("cb02"),Object(l["a"])(h,m,f,!1,null,"b74681a4",null)),_=g.exports,b=o("795b"),P=o.n(b),C=o("bc3a"),U=o.n(C),w="https://ranekapi.origamid.dev/wp-json",x=U.a.create({baseURL:w+"/api"});x.interceptors.request.use(function(t){var e=window.localStorage.token;return e&&(t.headers.Authorization=e),t},function(t){return P.a.reject(t)});var $={get:function(t){return x.get(t)},post:function(t,e){return x.post(t,e)},put:function(t,e){return x.put(t,e)},delete:function(t){return x.delete(t)},login:function(t){return U.a.post(w+"/jwt-auth/v1/token",t)},validateToken:function(){return x.post(w+"/jwt-auth/v1/token/validate")}};function O(t){return U.a.get("https://viacep.com.br/ws/".concat(t,"/json/"))}var y={components:{TheHeader:p,TheFooter:_},created:function(){var t=this;window.localStorage.token&&$.validateToken().then(function(){t.$store.dispatch("getUsuario")}).catch(function(){window.localStorage.removeItem("token")})}},k=y,j=(o("034f"),Object(l["a"])(k,a,n,!1,null,null,null)),E=j.exports,T=o("8c4f"),N=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[o("h1",[t._v("👍 Compre ou Venda 👎")]),o("ProdutosBuscar"),o("ProdutosLista")],1)},A=[],D=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("form",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.busca,expression:"busca"}],attrs:{name:"busca",id:"busca",type:"text",placeholder:"Buscar..."},domProps:{value:t.busca},on:{input:function(e){e.target.composing||(t.busca=e.target.value)}}}),o("input",{attrs:{type:"submit",id:"lupa",value:"Buscar"},on:{click:function(e){return e.preventDefault(),t.buscarProdutos(e)}}})])},S=[],R={data:function(){return{busca:""}},methods:{buscarProdutos:function(){this.$router.push({query:{q:this.busca}})}}},I=R,L=(o("f4d8"),Object(l["a"])(I,D,S,!1,null,"4ff897a6",null)),F=L.exports,z=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"produtos-container"},[o("transition",{attrs:{mode:"out-in"}},[t.produtos&&t.produtos.length?o("div",{key:"produtos",staticClass:"produtos"},[t._l(t.produtos,function(e,r){return o("div",{key:r,staticClass:"produto"},[o("router-link",{attrs:{to:{name:"produto",params:{id:e.id}}}},[e.fotos?o("img",{attrs:{src:e.fotos[0].src,alt:e.fotos[0].titulo}}):t._e(),o("p",{staticClass:"preco"},[t._v(t._s(t._f("numeroPreco")(e.preco)))]),o("h2",{staticClass:"titulo"},[t._v(t._s(e.nome))]),o("p",[t._v(t._s(e.descricao))])])],1)}),o("ProdutosPaginar",{attrs:{produtosTotal:t.produtosTotal,produtosPorPagina:t.produtosPorPagina}})],2):t.produtos&&0===t.produtos.length?o("div",{key:"sem-resultados"},[o("p",{staticClass:"sem-resultados"},[t._v("Busca sem resultados. Tente buscar outro termo.")])]):o("PaginaCarregando",{key:"carregando"})],1)],1)},q=[],V=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.paginasTotal>1?o("ul",t._l(t.paginas,function(e){return o("li",{key:e},[o("router-link",{attrs:{to:{query:t.query(e)}}},[t._v(t._s(e))])],1)}),0):t._e()},B=[],M=o("cebc"),H={props:{produtosPorPagina:{type:Number,default:1},produtosTotal:{type:Number,default:1}},methods:{query:function(t){return Object(M["a"])({},this.$route.query,{_page:t})}},computed:{paginas:function(){for(var t=Number(this.$route.query._page),e=9,o=Math.ceil(e/2),r=this.paginasTotal,a=[],n=1;n<=r;n++)a.push(n);return a.splice(0,t-o),a.splice(e,r),a},paginasTotal:function(){var t=this.produtosTotal/this.produtosPorPagina;return t!==1/0?Math.ceil(t):0}}},G=H,J=(o("5c12"),Object(l["a"])(G,V,B,!1,null,"ca785e96",null)),K=J.exports,Q=o("bd86");function W(t){var e="";for(var o in t)e+="&".concat(o,"=").concat(t[o]);return e}function X(t){for(var e={},o=function(o){var r=[t.fields[o]];e[r]={get:function(){return this.$store.state[t.base][r]},set:function(e){this.$store.commit(t.mutation,Object(Q["a"])({},r,e))}}},r=0;r<t.fields.length;r++)o(r);return e}var Y={name:"ProdutosLista",components:{ProdutosPaginar:K},data:function(){return{produtos:null,produtosPorPagina:9,produtosTotal:0}},computed:{url:function(){var t=W(this.$route.query);return"/produto?_limit=".concat(this.produtosPorPagina).concat(t)}},methods:{getProdutos:function(){var t=this;this.produtos=null,$.get(this.url).then(function(e){t.produtosTotal=Number(e.headers["x-total-count"]),t.produtos=e.data})}},watch:{url:function(){this.getProdutos()}},created:function(){this.getProdutos()}},Z=Y,tt=(o("1ea6"),Object(l["a"])(Z,z,q,!1,null,"1b33b966",null)),et=tt.exports,ot={name:"home",components:{ProdutosBuscar:F,ProdutosLista:et},created:function(){document.title="Ranek"}},rt=ot,at=(o("8e0e"),Object(l["a"])(rt,N,A,!1,null,"29f2d6ce",null)),nt=at.exports,it=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[t.produto?o("div",{staticClass:"produto"},[t.produto.fotos?o("ul",{staticClass:"fotos"},t._l(t.produto.fotos,function(t,e){return o("li",{key:e},[o("img",{attrs:{src:t.src,alt:t.titulo}})])}),0):t._e(),o("div",{staticClass:"info"},[o("h1",[t._v(t._s(t.produto.nome))]),o("p",{staticClass:"preco"},[t._v(t._s(t._f("numeroPreco")(t.produto.preco)))]),o("p",{staticClass:"descricao"},[t._v(t._s(t.produto.descricao))]),"false"===t.produto.vendido?o("transition",{attrs:{mode:"out-in"}},[t.finalizar?o("FinalizarCompra",{attrs:{produto:t.produto}}):o("button",{staticClass:"btn",on:{click:function(e){t.finalizar=!0}}},[t._v("Comprar")])],1):o("button",{staticClass:"btn btn-disabled",attrs:{disabled:""}},[t._v("Produto Vendido")])],1)]):o("PaginaCarregando")],1)},st=[],ut=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[o("h2",[t._v("Endereço de Envio")]),o("ErroNotificacao",{attrs:{erros:t.erros}}),o("UsuarioForm",[o("button",{staticClass:"btn",on:{click:function(e){return e.preventDefault(),t.finalizarCompra(e)}}},[t._v("Finalizar Compra")])])],1)},ct=[],lt=(o("96cf"),o("3b8d")),dt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("form",[t.mostrarDadosLogin?o("div",{staticClass:"usuario"},[o("label",{attrs:{for:"nome"}},[t._v("Nome")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.nome,expression:"nome"}],attrs:{id:"nome",name:"nome",type:"text"},domProps:{value:t.nome},on:{input:function(e){e.target.composing||(t.nome=e.target.value)}}}),o("label",{attrs:{for:"email"}},[t._v("Email")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{id:"email",name:"email",type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),o("label",{attrs:{for:"senha"}},[t._v("Senha")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.senha,expression:"senha"}],attrs:{id:"senha",name:"senha",type:"password"},domProps:{value:t.senha},on:{input:function(e){e.target.composing||(t.senha=e.target.value)}}})]):t._e(),o("label",{attrs:{for:"cep"}},[t._v("Cep")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.cep,expression:"cep"}],attrs:{id:"cep",name:"cep",type:"text"},domProps:{value:t.cep},on:{keyup:t.preencherCep,input:function(e){e.target.composing||(t.cep=e.target.value)}}}),o("label",{attrs:{for:"rua"}},[t._v("Rua")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.rua,expression:"rua"}],attrs:{id:"rua",name:"rua",type:"text"},domProps:{value:t.rua},on:{input:function(e){e.target.composing||(t.rua=e.target.value)}}}),o("label",{attrs:{for:"numero"}},[t._v("Numero")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.numero,expression:"numero"}],attrs:{id:"numero",name:"numero",type:"text"},domProps:{value:t.numero},on:{input:function(e){e.target.composing||(t.numero=e.target.value)}}}),o("label",{attrs:{for:"bairro"}},[t._v("Bairro")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.bairro,expression:"bairro"}],attrs:{id:"bairro",name:"bairro",type:"text"},domProps:{value:t.bairro},on:{input:function(e){e.target.composing||(t.bairro=e.target.value)}}}),o("label",{attrs:{for:"cidade"}},[t._v("Cidade")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.cidade,expression:"cidade"}],attrs:{id:"cidade",name:"cidade",type:"text"},domProps:{value:t.cidade},on:{input:function(e){e.target.composing||(t.cidade=e.target.value)}}}),o("label",{attrs:{for:"estado"}},[t._v("Estado")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.estado,expression:"estado"}],attrs:{id:"estado",name:"estado",type:"text"},domProps:{value:t.estado},on:{input:function(e){e.target.composing||(t.estado=e.target.value)}}}),o("div",{staticClass:"button"},[t._t("default")],2)])},pt=[],mt=(o("7f7f"),{computed:Object(M["a"])({},X({fields:["nome","email","senha","rua","cep","numero","bairro","cidade","estado"],base:"usuario",mutation:"UPDATE_USUARIO"}),{mostrarDadosLogin:function(){return!this.$store.state.login||"usuario-editar"===this.$route.name}}),methods:{preencherCep:function(){var t=this,e=this.cep.replace(/\D/g,"");8===e.length&&O(e).then(function(e){t.rua=e.data.logradouro,t.bairro=e.data.bairro,t.estado=e.data.uf,t.cidade=e.data.localidade})}}}),ft=mt,vt=(o("7f82"),Object(l["a"])(ft,dt,pt,!1,null,"1e996f56",null)),ht=vt.exports,gt=o("2f62"),_t={name:"FinalizarCompra",components:{UsuarioForm:ht},props:["produto"],data:function(){return{erros:[]}},computed:Object(M["a"])({},Object(gt["c"])(["usuario"]),{compra:function(){return{comprador_id:this.usuario.email,vendedor_id:this.produto.usuario_id,produto:this.produto,endereco:{cep:this.usuario.cep,rua:this.usuario.rua,numero:this.usuario.numero,bairro:this.usuario.bairro,cidade:this.usuario.cidade,estado:this.usuario.estado}}}}),methods:{criarTransacao:function(){var t=this;return $.post("/transacao",this.compra).then(function(){t.$router.push({name:"compras"})})},criarUsuario:function(){var t=Object(lt["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$store.dispatch("criarUsuario",this.$store.state.usuario);case 3:return t.next=5,this.$store.dispatch("logarUsuario",this.$store.state.usuario);case 5:return t.next=7,this.$store.dispatch("getUsuario");case 7:return t.next=9,this.criarTransacao();case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),this.erros.push(t.t0.response.data.message);case 14:case"end":return t.stop()}},t,this,[[0,11]])}));function e(){return t.apply(this,arguments)}return e}(),finalizarCompra:function(){this.erros=[],this.$store.state.login?this.criarTransacao():this.criarUsuario()}}},bt=_t,Pt=(o("8ce1"),Object(l["a"])(bt,ut,ct,!1,null,"1f7ae294",null)),Ct=Pt.exports,Ut={name:"Produtos",props:["id"],components:{FinalizarCompra:Ct},data:function(){return{produto:null,finalizar:!1}},methods:{getProduto:function(){var t=this;$.get("/produto/".concat(this.id)).then(function(e){t.produto=e.data,document.title=t.produto.nome})}},created:function(){this.getProduto()}},wt=Ut,xt=(o("6432"),Object(l["a"])(wt,it,st,!1,null,"7f953244",null)),$t=xt.exports,Ot=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"login"},[o("h1",[t._v("Login")]),o("form",[o("label",{attrs:{for:"email"}},[t._v("Email")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.login.email,expression:"login.email"}],attrs:{type:"email",name:"email",id:"email"},domProps:{value:t.login.email},on:{input:function(e){e.target.composing||t.$set(t.login,"email",e.target.value)}}}),o("label",{attrs:{for:"senha"}},[t._v("Senha")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.login.senha,expression:"login.senha"}],attrs:{type:"password",name:"senha",id:"senha"},domProps:{value:t.login.senha},on:{input:function(e){e.target.composing||t.$set(t.login,"senha",e.target.value)}}}),o("button",{staticClass:"btn",on:{click:function(e){return e.preventDefault(),t.logar(e)}}},[t._v("Logar")]),o("ErroNotificacao",{attrs:{erros:t.erros}})],1),t._m(0),o("LoginCriar")],1)},yt=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("p",{staticClass:"perdeu"},[o("a",{attrs:{href:"http://ranekapilocal.local/wp-login.php?action=lostpassword",target:"_blank"}},[t._v("Perdeu a senha? Clique aqui.")])])}],kt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[o("h2",[t._v("Crie a Sua Conta")]),o("ErroNotificacao",{attrs:{erros:t.erros}}),o("transition",{attrs:{mode:"out-in"}},[t.criar?o("UsuarioForm",[o("button",{staticClass:"btn btn-form",on:{click:function(e){return e.preventDefault(),t.criarUsuario(e)}}},[t._v("Criar Usuário")])]):o("button",{staticClass:"btn",on:{click:function(e){t.criar=!0}}},[t._v("Criar Conta")])],1)],1)},jt=[],Et={name:"LoginCriar",components:{UsuarioForm:ht},data:function(){return{criar:!1,erros:[]}},methods:{criarUsuario:function(){var t=Object(lt["a"])(regeneratorRuntime.mark(function t(e){var o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.erros=[],o=e.currentTarget,o.value="Criando...",o.setAttribute("disabled",""),t.prev=4,t.next=7,this.$store.dispatch("criarUsuario",this.$store.state.usuario);case 7:return t.next=9,this.$store.dispatch("logarUsuario",this.$store.state.usuario);case 9:return t.next=11,this.$store.dispatch("getUsuario");case 11:this.$router.push({name:"usuario"}),t.next=19;break;case 14:t.prev=14,t.t0=t["catch"](4),o.removeAttribute("disabled"),o.value="Criar Usuário",this.erros.push(t.t0.response.data.message);case 19:case"end":return t.stop()}},t,this,[[4,14]])}));function e(e){return t.apply(this,arguments)}return e}()}},Tt=Et,Nt=(o("3d68"),Object(l["a"])(Tt,kt,jt,!1,null,"c280cdb6",null)),At=Nt.exports,Dt={name:"Login",components:{LoginCriar:At},data:function(){return{login:{email:"",senha:""},erros:[]}},methods:{logar:function(){var t=this;this.erros=[],this.$store.dispatch("logarUsuario",this.login).then(function(e){t.$store.dispatch("getUsuario"),t.$router.push({name:"usuario"})}).catch(function(e){t.erros.push(e.response.data.message)})}},created:function(){document.title="Login"}},St=Dt,Rt=(o("c9f4"),Object(l["a"])(St,Ot,yt,!1,null,"e4201bac",null)),It=Rt.exports,Lt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"usuario"},[o("nav",{staticClass:"sidenav"},[o("ul",[o("li",[o("router-link",{attrs:{to:{name:"usuario"}}},[t._v("Produtos")])],1),o("li",[o("router-link",{attrs:{to:{name:"compras"}}},[t._v("Compras")])],1),o("li",[o("router-link",{attrs:{to:{name:"vendas"}}},[t._v("Vendas")])],1),o("li",[o("router-link",{attrs:{to:{name:"usuario-editar"}}},[t._v("Editar Usuário")])],1),o("li",[o("button",{on:{click:t.deslogar}},[t._v("Deslogar")])])])]),o("transition",{attrs:{mode:"out-in"}},[o("router-view")],1)],1)},Ft=[],zt={name:"Usuario",methods:{deslogar:function(){this.$store.dispatch("deslogarUsuario"),this.$router.push("/login")}},created:function(){document.title="Usuário"}},qt=zt,Vt=(o("df1a"),Object(l["a"])(qt,Lt,Ft,!1,null,"7d1495aa",null)),Bt=Vt.exports,Mt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[o("h2",[t._v("Adicionar Produto")]),o("ProdutoAdicionar"),o("h2",[t._v("Seus Produtos")]),t.usuario_produtos?o("transition-group",{attrs:{name:"list",tag:"ul"}},t._l(t.usuario_produtos,function(e,r){return o("li",{key:r},[o("ProdutoItem",{attrs:{produto:e}},[o("p",[t._v(t._s(e.descricao))]),o("button",{staticClass:"deletar",on:{click:function(o){return t.deletarProduto(e.id)}}},[t._v("Deletar")])])],1)}),0):t._e()],1)},Ht=[],Gt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("form",{staticClass:"adicionar-produto"},[o("label",{attrs:{for:"nome"}},[t._v("Nome")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.produto.nome,expression:"produto.nome"}],attrs:{id:"nome",name:"nome",type:"text"},domProps:{value:t.produto.nome},on:{input:function(e){e.target.composing||t.$set(t.produto,"nome",e.target.value)}}}),o("label",{attrs:{for:"preco"}},[t._v("Preço (R$)")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.produto.preco,expression:"produto.preco"}],attrs:{id:"preco",name:"preco",type:"number"},domProps:{value:t.produto.preco},on:{input:function(e){e.target.composing||t.$set(t.produto,"preco",e.target.value)}}}),o("label",{attrs:{for:"fotos"}},[t._v("Fotos")]),o("input",{ref:"fotos",attrs:{id:"fotos",name:"fotos",type:"file",multiple:""}}),o("label",{attrs:{for:"preco"}},[t._v("Descrição")]),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.produto.descricao,expression:"produto.descricao"}],attrs:{id:"preco",name:"preco"},domProps:{value:t.produto.descricao},on:{input:function(e){e.target.composing||t.$set(t.produto,"descricao",e.target.value)}}}),o("input",{staticClass:"btn",attrs:{type:"button",value:"Adicionar Produto"},on:{click:function(e){return e.preventDefault(),t.adicionarProduto(e)}}})])},Jt=[],Kt={name:"ProdutoAdicionar",data:function(){return{produto:{nome:"",preco:"",descricao:"",fotos:null,vendido:"false"}}},methods:{formatarProduto:function(){for(var t=new FormData,e=this.$refs.fotos.files,o=0;o<e.length;o++)t.append(e[o].name,e[o]);return t.append("nome",this.produto.nome),t.append("preco",this.produto.preco),t.append("descricao",this.produto.descricao),t.append("vendido",this.produto.vendido),t.append("usuario_id",this.$store.state.usuario.id),t},adicionarProduto:function(){var t=Object(lt["a"])(regeneratorRuntime.mark(function t(e){var o,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=this.formatarProduto(),r=e.currentTarget,r.value="Adicionando...",r.setAttribute("disabled",""),t.next=6,$.post("/produto",o);case 6:return t.next=8,this.$store.dispatch("getUsuarioProdutos");case 8:r.removeAttribute("disabled"),r.value="Adicionar Produto";case 10:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}},Qt=Kt,Wt=(o("26b9"),Object(l["a"])(Qt,Gt,Jt,!1,null,"4e54bca0",null)),Xt=Wt.exports,Yt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.produto?o("div",{staticClass:"produto"},[o("router-link",{staticClass:"produto-img",attrs:{to:{name:"produto",params:{id:t.produto.id}}}},[t.produto.fotos?o("img",{attrs:{src:t.produto.fotos[0].src,alt:t.produto.fotos[0].titulo}}):t._e()]),o("div",{staticClass:"info"},[o("p",{staticClass:"preco"},[t._v(t._s(t._f("numeroPreco")(t.produto.preco)))]),o("h2",{staticClass:"titulo"},[t._v(t._s(t.produto.nome))]),t._t("default")],2)],1):t._e()},Zt=[],te={name:"ProdutoItem",props:["produto"]},ee=te,oe=(o("8b8c"),Object(l["a"])(ee,Yt,Zt,!1,null,"580f677a",null)),re=oe.exports,ae={name:"UsuarioProdutos",components:{ProdutoAdicionar:Xt,ProdutoItem:re},computed:Object(M["a"])({},Object(gt["c"])(["login","usuario","usuario_produtos"])),methods:Object(M["a"])({},Object(gt["b"])(["getUsuarioProdutos"]),{deletarProduto:function(t){var e=this,o=window.confirm("Deseja remover este produto?");o&&$.delete("/produto/".concat(t)).then(function(){e.getUsuarioProdutos()}).catch(function(t){console.log(t.reponse)})}}),watch:{login:function(){this.getUsuarioProdutos()}},created:function(){this.login&&this.getUsuarioProdutos(),document.title="Usuário"}},ne=ae,ie=(o("da7e"),Object(l["a"])(ne,Mt,Ht,!1,null,"0a7dbaf5",null)),se=ie.exports,ue=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[t.vendas?o("div",[o("h2",[t._v("Vendas")]),t._l(t.vendas,function(e,r){return o("div",{key:r,staticClass:"produtos-wrapper"},[e.produto?o("ProdutoItem",{attrs:{produto:e.produto}},[o("p",{staticClass:"vendedor"},[o("span",[t._v("Comprador:")]),t._v("\n          "+t._s(e.comprador_id)+"\n        ")])]):t._e(),o("div",{staticClass:"entrega"},[o("h3",[t._v("Entrega:")]),e.endereco?o("ul",t._l(e.endereco,function(e,r){return o("li",{key:r},[t._v(t._s(r)+": "+t._s(e))])}),0):t._e()])],1)})],2):o("PaginaCarregando")],1)},ce=[],le={components:{ProdutoItem:re},data:function(){return{vendas:null}},computed:Object(M["a"])({},Object(gt["c"])(["usuario","login"])),methods:{getVendas:function(){var t=this;$.get("/transacao?tipo=vendedor_id").then(function(e){t.vendas=e.data})}},watch:{login:function(){this.getVendas()}},created:function(){this.login&&this.getVendas(),document.title="Usuário | Vendas"}},de=le,pe=(o("b851"),Object(l["a"])(de,ue,ce,!1,null,"1d1164a2",null)),me=pe.exports,fe=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[t.compras?o("div",[o("h2",[t._v("Compras")]),t._l(t.compras,function(e,r){return o("div",{key:r,staticClass:"produtos-wrapper"},[e.produto?o("ProdutoItem",{attrs:{produto:e.produto}},[o("p",{staticClass:"vendedor"},[o("span",[t._v("Vendedor:")]),t._v("\n          "+t._s(e.vendedor_id)+"\n        ")])]):t._e()],1)})],2):o("PaginaCarregando")],1)},ve=[],he={components:{ProdutoItem:re},data:function(){return{compras:null}},computed:Object(M["a"])({},Object(gt["c"])(["usuario","login"])),methods:{getCompras:function(){var t=this;$.get("/transacao?tipo=comprador_id").then(function(e){t.compras=e.data})}},watch:{login:function(){this.getCompras()}},created:function(){this.login&&this.getCompras(),document.title="Usuário | Compras"}},ge=he,_e=(o("54e0"),Object(l["a"])(ge,fe,ve,!1,null,"17d04760",null)),be=_e.exports,Pe=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[o("UsuarioForm",[o("button",{staticClass:"btn",on:{click:function(e){return e.preventDefault(),t.atualizarUsuario(e)}}},[t._v("Atualizar Usuário")])]),o("ErroNotificacao",{attrs:{erros:t.erros}})],1)},Ce=[],Ue={name:"UsuarioEditar",components:{UsuarioForm:ht},data:function(){return{erros:[]}},methods:{atualizarUsuario:function(){var t=this;this.erros=[],$.put("/usuario",this.$store.state.usuario).then(function(){t.$store.dispatch("getUsuario"),t.$router.push({name:"usuario"})}).catch(function(e){t.erros.push(e.response.data.message)})}},created:function(){document.title="Usuário | Editar"}},we=Ue,xe=Object(l["a"])(we,Pe,Ce,!1,null,null,null),$e=xe.exports,Oe=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h1",[t._v("Página não encontrada.")]),o("router-link",{staticClass:"home",attrs:{to:"/"}},[t._v("Voltar para Home")])],1)},ye=[],ke={name:"PaginaNaoEncontrada"},je=ke,Ee=(o("bb17"),Object(l["a"])(je,Oe,ye,!1,null,"407ba08e",null)),Te=Ee.exports;r["a"].use(T["a"]);var Ne=new T["a"]({mode:"history",base:"/",routes:[{path:"*",component:Te},{path:"/",name:"home",component:nt},{path:"/produto/:id",name:"produto",component:$t,props:!0},{path:"/login",name:"login",component:It},{path:"/usuario",component:Bt,meta:{login:!0},children:[{path:"",name:"usuario",component:se},{path:"compras",name:"compras",component:be},{path:"vendas",name:"vendas",component:me},{path:"editar",name:"usuario-editar",component:$e}]}],scrollBehavior:function(){return window.scrollTo({top:0,behavior:"smooth"})}});Ne.beforeEach(function(t,e,o){t.matched.some(function(t){return t.meta.login})?window.localStorage.token?o():o("/login"):o()});var Ae=Ne,De=o("5176"),Se=o.n(De);r["a"].use(gt["a"]);var Re=new gt["a"].Store({strict:!0,state:{login:!1,usuario:{id:"",nome:"",email:"",senha:"",cep:"",rua:"",numero:"",bairro:"",cidade:"",estado:""},usuario_produtos:null},mutations:{UPDATE_LOGIN:function(t,e){t.login=e},UPDATE_USUARIO:function(t,e){t.usuario=Se()(t.usuario,e)},UPDATE_USUARIO_PRODUTOS:function(t,e){t.usuario_produtos=e},ADD_USUARIO_PRODUTOS:function(t,e){t.usuario_produtos.unshit(e)}},actions:{getUsuarioProdutos:function(t){return $.get("/produto?usuario_id=".concat(t.state.usuario.id)).then(function(e){t.commit("UPDATE_USUARIO_PRODUTOS",e.data)})},getUsuario:function(t){return $.get("/usuario").then(function(e){t.commit("UPDATE_USUARIO",e.data),t.commit("UPDATE_LOGIN",!0)})},criarUsuario:function(t,e){return t.commit("UPDATE_USUARIO",{id:e.email}),$.post("/usuario",e)},logarUsuario:function(t,e){return $.login({username:e.email,password:e.senha}).then(function(t){window.localStorage.token="Bearer ".concat(t.data.token)})},deslogarUsuario:function(t){t.commit("UPDATE_USUARIO",{id:"",nome:"",email:"",senha:"",cep:"",rua:"",numero:"",bairro:"",cidade:"",estado:""}),window.localStorage.removeItem("token"),t.commit("UPDATE_LOGIN",!1)}}}),Ie=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Le=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"loading"},[o("span"),o("span"),o("span"),o("span")])}],Fe={name:"PaginaCarregando"},ze=Fe,qe=(o("a5d4"),Object(l["a"])(ze,Ie,Le,!1,null,"ee2a55d0",null)),Ve=qe.exports,Be=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",[t.erros.length>0?o("ul",{staticClass:"erro"},t._l(t.erros,function(e,r){return o("li",{key:r,domProps:{innerHTML:t._s(e)}})}),0):t._e()])},Me=[],He={name:"ErroNotificacao",props:{erros:Array}},Ge=He,Je=(o("154a"),Object(l["a"])(Ge,Be,Me,!1,null,"34844107",null)),Ke=Je.exports;r["a"].config.productionTip=!1,r["a"].component("PaginaCarregando",Ve),r["a"].component("ErroNotificacao",Ke),r["a"].filter("numeroPreco",function(t){return t=Number(t),isNaN(t)?"":t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),new r["a"]({router:Ae,store:Re,render:function(t){return t(E)}}).$mount("#app")},5717:function(t,e,o){},"5b22":function(t,e,o){},"5c12":function(t,e,o){"use strict";var r=o("5dbf"),a=o.n(r);a.a},"5dbf":function(t,e,o){},6432:function(t,e,o){"use strict";var r=o("6c42"),a=o.n(r);a.a},"64a9":function(t,e,o){},6978:function(t,e,o){},"6c42":function(t,e,o){},"75f9":function(t,e,o){},"7f82":function(t,e,o){"use strict";var r=o("02d9"),a=o.n(r);a.a},"8b8c":function(t,e,o){"use strict";var r=o("4680"),a=o.n(r);a.a},"8c0d":function(t,e,o){},"8ce1":function(t,e,o){"use strict";var r=o("2540"),a=o.n(r);a.a},"8e0e":function(t,e,o){"use strict";var r=o("07e6"),a=o.n(r);a.a},"9f5c":function(t,e,o){},a5d4:function(t,e,o){"use strict";var r=o("31f2"),a=o.n(r);a.a},a79a:function(t,e,o){},aad0:function(t,e,o){},b851:function(t,e,o){"use strict";var r=o("75f9"),a=o.n(r);a.a},b89a:function(t,e,o){},b9aa:function(t,e,o){t.exports=o.p+"img/ranek.e7a4871b.svg"},bb17:function(t,e,o){"use strict";var r=o("aad0"),a=o.n(r);a.a},bce3:function(t,e,o){"use strict";var r=o("a79a"),a=o.n(r);a.a},c9f4:function(t,e,o){"use strict";var r=o("5717"),a=o.n(r);a.a},cb02:function(t,e,o){"use strict";var r=o("2551"),a=o.n(r);a.a},da7e:function(t,e,o){"use strict";var r=o("4545"),a=o.n(r);a.a},df1a:function(t,e,o){"use strict";var r=o("4079"),a=o.n(r);a.a},f4d8:function(t,e,o){"use strict";var r=o("6978"),a=o.n(r);a.a}});
//# sourceMappingURL=app.c8d38c23.js.map